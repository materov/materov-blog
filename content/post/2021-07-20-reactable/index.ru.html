---
title: Интерактивные таблицы средствами языка R
author: admin
date: '2021-07-21'
slug: reactable
categories: ["R"]
tags: ["rstats", "reactable"]
subtitle: 'пример создания интерактивных таблиц'
summary: 'В статье рассмотрен пример создания интерактивной таблицы в библиотеке `reactable`, показывающей количество пожаров в РФ приведенное к количеству населения.'
authors: 
- admin
lastmod: '2021-07-20T09:40:33+07:00'
featured: yes
math: true
image:
  caption: ''
  focal_point: ''
  preview_only: yes
projects: []
---

<script src="{{< blogdown/postref >}}index.ru_files/header-attrs/header-attrs.js"></script>
<link href="{{< blogdown/postref >}}index.ru_files/applause-button/applause-button.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.ru_files/applause-button/applause-button.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/core-js/shim.min.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/react/react.min.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/react/react-dom.min.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/reactwidget/react-tools.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/reactable-binding/reactable.js"></script>
<script src="{{< blogdown/postref >}}index.ru_files/twitter-widget/widgets.js"></script>


<p><applause-button style="width: 58px; height: 58px;" color="#0C4047" multiclap="true"></applause-button></p>
<style type="text/css">
.border-left {
  border-left: 5px solid #555;
}
</style>
<div id="введение" class="section level2">
<h2>Введение</h2>
<p>Табличный способ является одним из основных способов структурирования и представления данных. В отличие от графиков, таблицы, как правило, не дают быстрого визуального представления о данных. Тем не менее, таблицы используются для того чтобы показать точные значения данных. Правильно созданная таблица позволяет найти определенное значение, понять закономерности или найти выбросы в данных.</p>
<p>Мы рассмотрим представление данных средствами языка программирования <strong>R</strong> в виде интерактивных таблиц.
Одним из самых простых способов для формирования интерактивных таблиц в <strong>R</strong> является библиотека <a href="https://rstudio.github.io/DT/">DT</a>, которая позволяет делать удобную сортировку и фильтрацию данных, а также предоставляет массу других дополнительных возможностей. Таблицы, которые мы рассмотрим здесь, построены в относительно новой, но уже достаточно насыщенной возможностями библиотеке <code>reactable</code> основанной на <strong>JavaScript</strong>-библиотеке <a href="https://github.com/tannerlinsley/react-table">React Table</a> и разработанной с помощью <a href="https://github.com/react-R/reactR">reactR</a>.</p>
<p>В качестве примера рассмотрим данные по пожарам<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, нормированные на численность населения в соответствующем субъекте Российской Федерации<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<p><font size="3"></p>
<div id="htmlwidget-1" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область","Камчатский край","Карачаево-Черкесская Республика","Кемеровская область","Кировская область","Костромская область","Краснодарский край","Красноярский край","Курганская область","Курская область","Ленинградская область","Липецкая область","Магаданская область","Московская область","Мурманская область","Ненецкий автономный округ","Нижегородская область","Новгородская область","Новосибирская область","Омская область","Оренбургская область","Орловская область","Пензенская область","Пермский край","Приморский край","Псковская область","Республика Адыгея","Республика Алтай","Республика Башкортостан","Республика Бурятия","Республика Дагестан","Республика Ингушетия","Республика Калмыкия","Республика Карелия","Республика Коми","Республика Крым","Республика Марий Эл","Республика Мордовия","Республика Саха (Якутия)","Республика Северная Осетия - Алания","Республика Татарстан","Республика Тыва","Республика Хакасия","Ростовская область","Рязанская область","Самарская область","Саратовская область","Сахалинская область","Свердловская область","Смоленская область","Ставропольский край","Тамбовская область","Тверская область","Томская область","Тульская область","Тюменская область","Удмуртская Республика","Ульяновская область","Хабаровский край","Ханты-Мансийский автономный округ - Югра","Челябинская область","Чеченская Республика","Чувашская  Республика - Чувашия","Чукотский автономный округ","Ямало-Ненецкий автономный округ","Ярославская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО","ДФО","СКФО","СФО","ПФО","ЦФО","ЮФО","СФО","УФО","ЦФО","СЗФО","ЦФО","ДФО","ЦФО","СЗФО","СЗФО","ПФО","СЗФО","СФО","СФО","ПФО","ЦФО","ПФО","ПФО","ДФО","СЗФО","ЮФО","СФО","ПФО","ДФО","СКФО","СКФО","ЮФО","СЗФО","СЗФО","ЮФО","ПФО","ПФО","ДФО","СКФО","ПФО","СФО","СФО","ЮФО","ЦФО","ПФО","ПФО","ДФО","УФО","ЦФО","СКФО","ЦФО","ЦФО","СФО","ЦФО","УФО","ПФО","ПФО","ДФО","УФО","УФО","СКФО","ПФО","ДФО","УФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35,51,12,33,23,21,34,51,53,38,46,28,75,34,38,9,13,43,32,43,41,50,22,18,74,68,29,23,21,57,8,4,58,36,18,35,19,28,39,21,14,44,42,34,48,24,38,61,26,31,46,31,30,32,46,10,18,40,76,14,36,7,14,38,18,23],"2018":[54,77,12,52,12,44,35,45,25,34,8,27,28,109,62,35,31,18,43,47,43,7,39,26,25,34,47,62,43,50,48,67,41,44,10,19,40,30,32,55,50,27,20,79,63,30,23,26,50,8,4,66,40,17,27,24,45,39,14,16,45,37,33,63,38,45,55,29,44,41,41,41,29,56,9,18,53,76,14,41,7,19,39,18,26],"2019":[62,68,12,48,18,47,32,37,19,32,8,20,28,137,95,40,30,18,46,35,40,17,45,22,25,23,44,51,51,44,45,65,36,47,28,17,47,47,43,44,58,28,16,98,92,32,24,29,50,10,7,67,28,18,28,26,52,27,19,16,38,44,22,43,36,38,65,24,49,37,46,45,32,51,8,16,47,89,16,36,8,14,36,18,39],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28,41,17,36,17,22,20,31,47,59,37,63,58,28,37,23,16,34,38,40,41,67,23,15,51,66,27,21,27,38,10,8,65,26,15,19,17,36,25,23,14,37,40,30,46,31,43,41,21,40,37,46,33,25,47,8,14,41,59,13,34,9,13,28,15,30],"total":[224,261,46,205,59,182,118,179,86,141,29,86,114,431,289,133,122,78,156,144,174,54,153,88,93,111,173,214,191,177,183,266,138,166,70,65,164,146,159,182,225,101,68,301,289,116,91,102,195,36,22,255,130,68,109,86,161,131,78,59,164,163,119,199,128,165,222,100,164,161,165,149,118,201,35,66,182,299,58,147,31,59,140,69,118]},"columns":[{"accessor":"regions","name":"Субъект РФ","type":"factor","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"defaultSortDesc":false,"footer":"Общее количество","minWidth":170,"maxWidth":370},{"accessor":"FO","name":"ФО","type":"factor","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"defaultSortDesc":false,"maxWidth":80,"align":"center","className":"border-left"},{"accessor":"2017","name":"2017","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"maxWidth":75,"style":[{"background":"#FEEEAF"},{"background":"#FEE0A3"},{"background":"#99C6D1"},{"background":"#FEEEAF"},{"background":"#99C6D1"},{"background":"#FEEFB0"},{"background":"#CFE4C7"},{"background":"#FEF0B1"},{"background":"#CFE4C7"},{"background":"#E3EFC4"},{"background":"#8EBFD4"},{"background":"#C4DDCA"},{"background":"#F2F7C1"},{"background":"#FDBD83"},{"background":"#FEDB9F"},{"background":"#DBEAC5"},{"background":"#F2F7C1"},{"background":"#C0DBCA"},{"background":"#EEF5C2"},{"background":"#F6FAC0"},{"background":"#FEEFB0"},{"background":"#9DC8D1"},{"background":"#EEF5C2"},{"background":"#C8E0C9"},{"background":"#C0DBCA"},{"background":"#F2F7C1"},{"background":"#FEEFB0"},{"background":"#FEEDAE"},{"background":"#FEFEBE"},{"background":"#FEF5B6"},{"background":"#DBEAC5"},{"background":"#FDD398"},{"background":"#F2F7C1"},{"background":"#FEFEBE"},{"background":"#92C1D3"},{"background":"#A1CAD0"},{"background":"#FEF8B9"},{"background":"#EAF3C2"},{"background":"#FEF8B9"},{"background":"#FEFABB"},{"background":"#FEF0B1"},{"background":"#C4DDCA"},{"background":"#B4D5CC"},{"background":"#FDD599"},{"background":"#FEDB9F"},{"background":"#DFEDC4"},{"background":"#C8E0C9"},{"background":"#C0DBCA"},{"background":"#FEE8AA"},{"background":"#8EBFD4"},{"background":"#7FB7D7"},{"background":"#FEE7A9"},{"background":"#FAFCBF"},{"background":"#B4D5CC"},{"background":"#F6FAC0"},{"background":"#B8D7CC"},{"background":"#DBEAC5"},{"background":"#FEFDBD"},{"background":"#C0DBCA"},{"background":"#A5CCCF"},{"background":"#FEF7B8"},{"background":"#FEF9BA"},{"background":"#F2F7C1"},{"background":"#FEF2B4"},{"background":"#CBE2C8"},{"background":"#FEFEBE"},{"background":"#FEE3A6"},{"background":"#D3E6C7"},{"background":"#E6F1C3"},{"background":"#FEF5B6"},{"background":"#E6F1C3"},{"background":"#E3EFC4"},{"background":"#EAF3C2"},{"background":"#FEF5B6"},{"background":"#96C3D2"},{"background":"#B4D5CC"},{"background":"#FEFBBC"},{"background":"#FDD297"},{"background":"#A5CCCF"},{"background":"#FAFCBF"},{"background":"#8ABDD4"},{"background":"#A5CCCF"},{"background":"#FEFEBE"},{"background":"#B4D5CC"},{"background":"#C8E0C9"}]},{"accessor":"2018","name":"2018","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"maxWidth":75,"style":[{"background":"#FEEBAD"},{"background":"#FDD196"},{"background":"#9DC8D1"},{"background":"#FEEEAF"},{"background":"#9DC8D1"},{"background":"#FEF7B8"},{"background":"#F6FAC0"},{"background":"#FEF6B7"},{"background":"#CFE4C7"},{"background":"#F2F7C1"},{"background":"#8EBFD4"},{"background":"#D7E8C6"},{"background":"#DBEAC5"},{"background":"#FCAD75"},{"background":"#FEE2A5"},{"background":"#F6FAC0"},{"background":"#E6F1C3"},{"background":"#B4D5CC"},{"background":"#FEF8B9"},{"background":"#FEF3B5"},{"background":"#FEF8B9"},{"background":"#8ABDD4"},{"background":"#FEFDBD"},{"background":"#D3E6C7"},{"background":"#CFE4C7"},{"background":"#F2F7C1"},{"background":"#FEF3B5"},{"background":"#FEE2A5"},{"background":"#FEF8B9"},{"background":"#FEF0B1"},{"background":"#FEF2B4"},{"background":"#FEDDA0"},{"background":"#FEFABB"},{"background":"#FEF7B8"},{"background":"#96C3D2"},{"background":"#B8D7CC"},{"background":"#FEFBBC"},{"background":"#E3EFC4"},{"background":"#EAF3C2"},{"background":"#FEEAAC"},{"background":"#FEF0B1"},{"background":"#D7E8C6"},{"background":"#BCD9CB"},{"background":"#FDCF94"},{"background":"#FEE1A4"},{"background":"#E3EFC4"},{"background":"#C8E0C9"},{"background":"#D3E6C7"},{"background":"#FEF0B1"},{"background":"#8EBFD4"},{"background":"#7FB7D7"},{"background":"#FEDEA1"},{"background":"#FEFBBC"},{"background":"#B1D3CD"},{"background":"#D7E8C6"},{"background":"#CBE2C8"},{"background":"#FEF6B7"},{"background":"#FEFDBD"},{"background":"#A5CCCF"},{"background":"#ADD0CE"},{"background":"#FEF6B7"},{"background":"#FEFEBF"},{"background":"#EEF5C2"},{"background":"#FEE1A4"},{"background":"#FEFEBE"},{"background":"#FEF6B7"},{"background":"#FEEAAC"},{"background":"#DFEDC4"},{"background":"#FEF7B8"},{"background":"#FEFABB"},{"background":"#FEFABB"},{"background":"#FEFABB"},{"background":"#DFEDC4"},{"background":"#FEE9AB"},{"background":"#92C1D3"},{"background":"#B4D5CC"},{"background":"#FEEDAE"},{"background":"#FDD297"},{"background":"#A5CCCF"},{"background":"#FEFABB"},{"background":"#8ABDD4"},{"background":"#B8D7CC"},{"background":"#FEFDBD"},{"background":"#B4D5CC"},{"background":"#D3E6C7"}]},{"accessor":"2019","name":"2019","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"maxWidth":75,"style":[{"background":"#FEE2A5"},{"background":"#FEDB9F"},{"background":"#9DC8D1"},{"background":"#FEF2B4"},{"background":"#B4D5CC"},{"background":"#FEF3B5"},{"background":"#EAF3C2"},{"background":"#FEFEBF"},{"background":"#B8D7CC"},{"background":"#EAF3C2"},{"background":"#8EBFD4"},{"background":"#BCD9CB"},{"background":"#DBEAC5"},{"background":"#FC8D59"},{"background":"#FDBD83"},{"background":"#FEFBBC"},{"background":"#E3EFC4"},{"background":"#B4D5CC"},{"background":"#FEF5B6"},{"background":"#F6FAC0"},{"background":"#FEFBBC"},{"background":"#B1D3CD"},{"background":"#FEF6B7"},{"background":"#C4DDCA"},{"background":"#CFE4C7"},{"background":"#C8E0C9"},{"background":"#FEF7B8"},{"background":"#FEEFB0"},{"background":"#FEEFB0"},{"background":"#FEF7B8"},{"background":"#FEF6B7"},{"background":"#FEDFA2"},{"background":"#FAFCBF"},{"background":"#FEF3B5"},{"background":"#DBEAC5"},{"background":"#B1D3CD"},{"background":"#FEF3B5"},{"background":"#FEF3B5"},{"background":"#FEF8B9"},{"background":"#FEF7B8"},{"background":"#FEE7A9"},{"background":"#DBEAC5"},{"background":"#ADD0CE"},{"background":"#FDB980"},{"background":"#FDC087"},{"background":"#EAF3C2"},{"background":"#CBE2C8"},{"background":"#DFEDC4"},{"background":"#FEF0B1"},{"background":"#96C3D2"},{"background":"#8ABDD4"},{"background":"#FEDDA0"},{"background":"#DBEAC5"},{"background":"#B4D5CC"},{"background":"#DBEAC5"},{"background":"#D3E6C7"},{"background":"#FEEEAF"},{"background":"#D7E8C6"},{"background":"#B8D7CC"},{"background":"#ADD0CE"},{"background":"#FEFEBE"},{"background":"#FEF7B8"},{"background":"#C4DDCA"},{"background":"#FEF8B9"},{"background":"#FAFCBF"},{"background":"#FEFEBE"},{"background":"#FEDFA2"},{"background":"#CBE2C8"},{"background":"#FEF1B2"},{"background":"#FEFEBF"},{"background":"#FEF5B6"},{"background":"#FEF6B7"},{"background":"#EAF3C2"},{"background":"#FEEFB0"},{"background":"#8EBFD4"},{"background":"#ADD0CE"},{"background":"#FEF3B5"},{"background":"#FDC38A"},{"background":"#ADD0CE"},{"background":"#FAFCBF"},{"background":"#8EBFD4"},{"background":"#A5CCCF"},{"background":"#FAFCBF"},{"background":"#B4D5CC"},{"background":"#FEFDBD"}]},{"accessor":"2020","name":"2020","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"maxWidth":75,"style":[{"background":"#FEE9AB"},{"background":"#FEEFB0"},{"background":"#99C6D1"},{"background":"#FEEBAD"},{"background":"#B1D3CD"},{"background":"#FEFDBD"},{"background":"#CFE4C7"},{"background":"#FEF3B5"},{"background":"#ADD0CE"},{"background":"#FEF6B7"},{"background":"#86BBD5"},{"background":"#B1D3CD"},{"background":"#CBE2C8"},{"background":"#FDC188"},{"background":"#FEDFA2"},{"background":"#E3EFC4"},{"background":"#D7E8C6"},{"background":"#C0DBCA"},{"background":"#F6FAC0"},{"background":"#DBEAC5"},{"background":"#FEFABB"},{"background":"#B1D3CD"},{"background":"#FAFCBF"},{"background":"#B1D3CD"},{"background":"#C4DDCA"},{"background":"#BCD9CB"},{"background":"#E6F1C3"},{"background":"#FEF3B5"},{"background":"#FEE6A8"},{"background":"#FEFEBF"},{"background":"#FEE1A4"},{"background":"#FEE7A9"},{"background":"#DBEAC5"},{"background":"#FEFEBF"},{"background":"#C8E0C9"},{"background":"#ADD0CE"},{"background":"#F2F7C1"},{"background":"#FEFEBE"},{"background":"#FEFBBC"},{"background":"#FEFABB"},{"background":"#FEDDA0"},{"background":"#C8E0C9"},{"background":"#A9CECF"},{"background":"#FEEFB0"},{"background":"#FEDEA1"},{"background":"#D7E8C6"},{"background":"#C0DBCA"},{"background":"#D7E8C6"},{"background":"#FEFEBE"},{"background":"#96C3D2"},{"background":"#8EBFD4"},{"background":"#FEDFA2"},{"background":"#D3E6C7"},{"background":"#A9CECF"},{"background":"#B8D7CC"},{"background":"#B1D3CD"},{"background":"#FAFCBF"},{"background":"#CFE4C7"},{"background":"#C8E0C9"},{"background":"#A5CCCF"},{"background":"#FEFEBF"},{"background":"#FEFBBC"},{"background":"#E3EFC4"},{"background":"#FEF5B6"},{"background":"#E6F1C3"},{"background":"#FEF8B9"},{"background":"#FEFABB"},{"background":"#C0DBCA"},{"background":"#FEFBBC"},{"background":"#FEFEBF"},{"background":"#FEF5B6"},{"background":"#EEF5C2"},{"background":"#CFE4C7"},{"background":"#FEF3B5"},{"background":"#8EBFD4"},{"background":"#A5CCCF"},{"background":"#FEFABB"},{"background":"#FEE6A8"},{"background":"#A1CAD0"},{"background":"#F2F7C1"},{"background":"#92C1D3"},{"background":"#A1CAD0"},{"background":"#DBEAC5"},{"background":"#A9CECF"},{"background":"#E3EFC4"}]},{"accessor":"total","name":"Сумма","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"cell":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["224",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"51.9721577726218%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["261",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"60.5568445475638%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["46",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"10.6728538283063%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["205",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"47.5638051044084%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["59",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"13.6890951276102%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["182",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"42.2273781902552%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["118",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"27.3781902552204%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["179",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"41.5313225058005%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["86",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"19.953596287703%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["141",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"32.7146171693735%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["29",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"6.72853828306264%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["86",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"19.953596287703%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["114",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"26.4501160092807%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["431",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"100%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["289",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"67.0533642691415%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["133",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"30.8584686774942%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["122",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"28.3062645011601%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["78",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"18.0974477958237%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["156",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"36.1948955916473%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["144",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"33.4106728538283%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["174",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"40.3712296983759%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["54",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"12.5290023201856%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["153",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"35.4988399071926%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["88",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"20.4176334106729%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["93",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"21.5777262180974%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["111",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"25.754060324826%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["173",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"40.1392111368909%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["214",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"49.6519721577726%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["191",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"44.3155452436195%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["177",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"41.0672853828306%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["183",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"42.4593967517401%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["266",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"61.7169373549884%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["138",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"32.0185614849188%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["166",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"38.5150812064965%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["70",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"16.2412993039443%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["65",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"15.0812064965197%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["164",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"38.0510440835267%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["146",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"33.8747099767981%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["159",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"36.8909512761021%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["182",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"42.2273781902552%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["225",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"52.2041763341067%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["101",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"23.4338747099768%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["68",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"15.7772621809745%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["301",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"69.8375870069606%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["289",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"67.0533642691415%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["116",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"26.9141531322506%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["91",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"21.1136890951276%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["102",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"23.6658932714617%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["195",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"45.2436194895592%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["36",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"8.35266821345708%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["22",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"5.10440835266821%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["255",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"59.1647331786543%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["130",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"30.1624129930394%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["68",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"15.7772621809745%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["109",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"25.2900232018561%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["86",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"19.953596287703%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["161",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"37.3549883990719%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["131",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"30.3944315545244%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["78",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"18.0974477958237%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["59",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"13.6890951276102%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["164",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"38.0510440835267%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["163",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"37.8190255220418%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["119",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"27.6102088167053%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["199",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"46.1716937354988%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["128",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"29.6983758700696%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["165",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"38.2830626450116%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["222",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"51.508120649652%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["100",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"23.2018561484919%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["164",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"38.0510440835267%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["161",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"37.3549883990719%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["165",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"38.2830626450116%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["149",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"34.5707656612529%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["118",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"27.3781902552204%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["201",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"46.6357308584687%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["35",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"8.12064965197216%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["66",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"15.3132250580046%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["182",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"42.2273781902552%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["299",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"69.3735498839907%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["58",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"13.4570765661253%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["147",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"34.1067285382831%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["31",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"7.19257540603248%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["59",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"13.6890951276102%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["140",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"32.4825986078886%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["69",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"16.0092807424594%","height":"15px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["118",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":null}},"children":[{"name":"div","attribs":{"style":{"background":"#00bfc4","width":"27.3781902552204%","height":"15px"}},"children":[]}]}]}],"footer":"function(colInfo) {var total = 0\n                                          colInfo.data.forEach(function(row) {\n                                          total += row[colInfo.column.id]\n                                          })\n                                          return total.toLocaleString('ru-RU')\n                                          }","align":"left","className":"border-left"}],"columnGroups":[{"name":"Количество пожаров приведенное на 10 000 человек населения","columns":["2017","2018","2019","2020"]}],"searchable":true,"defaultSortDesc":true,"defaultSorted":[{"id":"FO","desc":false}],"defaultPageSize":25,"showPageSizeOptions":true,"pageSizeOptions":[10,25,50,100],"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"borderless":true,"rowStyle":"\n                function(rowInfo, state) {\n                        // Ignore padding rows\n                        if (!rowInfo) return\n                        \n                        // Add horizontal separators between groups when sorting by school\n                        var firstSorted = state.sorted[0]\n                        if (firstSorted && firstSorted.id === 'FO') {\n                        var nextRow = state.pageRows[rowInfo.viewIndex + 1]\n                        if (nextRow && rowInfo.row['FO'] !== nextRow['FO']) {\n                        // Use box-shadow to add a 2px border without taking extra space\n                        return { boxShadow: 'inset 0 -2px 0 rgba(0, 0, 0, 0.1)' }\n                        }\n                        }\n                        }\n                        ","theme":{"headerStyle":{"&:hover[aria-sort]":{"background":"hsl(0, 0%, 96%)"},"&[aria-sort='ascending'], &[aria-sort='descending']":{"background":"hsl(0, 0%, 96%)"},"borderColor":"#555"}},"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"{rows} значений"},"dataKey":"6c5ca1328db5177c9a33563ff7bd1f69","key":"6c5ca1328db5177c9a33563ff7bd1f69"},"children":[]},"class":"reactR_markup"},"evals":["tag.attribs.columns.6.footer","tag.attribs.rowStyle"],"jsHooks":[]}</script>
<p></font></p>
<p>{{% callout note %}}
Отметим, что таблица выше не является официальным статистическим отчетом и служит исключительно для демонстрации работы библиотеки<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. Основные показатели, характеризующие состояние пожарной безопасности в Российской Федерации ежегодно публикуются <a href="http://vniipo.ru/">ФГБУ ВНИИПО МЧС РОССИИ</a> в статистических сборниках <a href="http://vniipo.ru/institut/informatsionnye-sistemy-reestry-bazy-i-banki-danny/federalnyy-bank-dannykh-pozhary/">ПОЖАРЫ И ПОЖАРНАЯ БЕЗОПАСНОСТЬ</a>.
{{% /callout %}}</p>
<div id="некоторые-особенности-и-возможности-интерактивных-таблиц" class="section level3">
<h3>Некоторые особенности и возможности интерактивных таблиц</h3>
<ul>
<li><p>Возможность <em>живой сортировки</em> значений по столбцам (можно указать исходное направление сортировки).</p></li>
<li><p><em>Живой поиск</em>, позволяющий выделять только строки с нужными значениями и делать автоматический пересчет итоговых суммарных значений.</p></li>
<li><p>Регулировка количества строк на странице и диапазона значений.</p></li>
<li><p>Группировка и агрегирование строк с автоматическим выделением границ таблицы.</p></li>
<li><p>Возможность условного форматирования: выделение шрифтом значений на основе условных критериев, построения тепловых карт и т.д.</p></li>
<li><p>Использование <strong>JavaScript</strong> для улучшения стилизации и внедрение <strong>HTML</strong>-виджетов в таблицы.</p></li>
<li><p>Использование <strong>CSS</strong>-стилей.</p></li>
<li><p>Богатые возможности для русификации.</p></li>
<li><p>Интегрирование с <a href="https://shiny.rstudio.com/">Shiny</a> (интерактивной средой для создания веб-приложений и дэшбордов) и <a href="https://rstudio.github.io/leaflet/">Leaflet</a> (библиотекой предназначенной для отображения карт на веб-сайтах).</p></li>
</ul>
</div>
</div>
<div id="посторение-интерактивных-таблиц" class="section level2">
<h2>Посторение интерактивных таблиц</h2>
<p>Код для построения рассмотренной выше таблицы по пожарам довольно большой, поэтому вместо полного листинга приведем основные идеи и принципы создания интерактивных таблиц в <code>reactable</code> на основе небольших примеров описанных на <a href="https://glin.github.io/reactable/index.html">странице библиотеки</a>.</p>
<div id="загрузка-библиотек" class="section level3">
<h3>Загрузка библиотек</h3>
<p>Загрузим необходимые библиотеки.</p>
<pre class="r"><code>library(tidyverse)
library(magrittr)
library(reactable)
library(htmltools)</code></pre>
</div>
<div id="базовая-таблица" class="section level3">
<h3>Базовая таблица</h3>
<p>Пусть модельные данные представляют собой упрощенную таблицу, содержащую название региона, федерального округа, данные за определенный период и столбец с суммарными значениями.</p>
<pre class="r"><code>fires_reactable &lt;- 
fires_counted %&gt;% 
  as_tibble() %&gt;% 
  head(20)  

fires_reactable</code></pre>
<pre><code>## # A tibble: 20 x 7
##    regions                         FO    `2017` `2018` `2019` `2020` total
##    &lt;fct&gt;                           &lt;fct&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1 Алтайский край                  СФО       52     54     62     56   224
##  2 Амурская область                ДФО       64     77     68     51   261
##  3 Архангельская область           СЗФО      11     12     12     11    46
##  4 Астраханская область            ЮФО       52     52     48     54   205
##  5 Белгородская область            ЦФО       11     12     18     17    59
##  6 Брянская область                ЦФО       51     44     47     39   182
##  7 Владимирская область            ЦФО       25     35     32     25   118
##  8 Волгоградская область           ЮФО       50     45     37     47   179
##  9 Вологодская область             СЗФО      25     25     19     16    86
## 10 Воронежская область             ЦФО       30     34     32     45   141
## 11 г. Москва                       ЦФО        8      8      8      6    29
## 12 г. Санкт-Петербург              СЗФО      22     27     20     17    86
## 13 г. Севастополь                  ЮФО       34     28     28     24   114
## 14 Еврейская автономная область    ДФО       95    109    137     91   431
## 15 Забайкальский край              ДФО       68     62     95     65   289
## 16 Ивановская область              ЦФО       28     35     40     30   133
## 17 Иркутская область               СФО       34     31     30     27   122
## 18 Кабардино-Балкарская Республика СКФО      21     18     18     21    78
## 19 Калининградская область         СЗФО      33     43     46     35   156
## 20 Калужская область               ЦФО       35     47     35     28   144</code></pre>
<p>Для отображения интерактивной таблицы служит команда <code>reactable()</code>. Столбцы такой таблицы можно сортировать нажатием (или кликом) на них.</p>
<pre class="r"><code>reactable(fires_reactable)</code></pre>
<p><font size="3"></p>
<div id="htmlwidget-2" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35],"2018":[54,77,12,52,12,44,35,45,25,34,8,27,28,109,62,35,31,18,43,47],"2019":[62,68,12,48,18,47,32,37,19,32,8,20,28,137,95,40,30,18,46,35],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28],"total":[224,261,46,205,59,182,118,179,86,141,29,86,114,431,289,133,122,78,156,144]},"columns":[{"accessor":"regions","name":"regions","type":"factor","minWidth":170},{"accessor":"FO","name":"FO","type":"factor","minWidth":60},{"accessor":"2017","name":"2017","type":"numeric"},{"accessor":"2018","name":"2018","type":"numeric"},{"accessor":"2019","name":"2019","type":"numeric"},{"accessor":"2020","name":"2020","type":"numeric"},{"accessor":"total","name":"total","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"{rows} значений"},"dataKey":"b51b83e78b665b73c56093901a7a30ab","key":"b51b83e78b665b73c56093901a7a30ab"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p></font></p>
</div>
<div id="русификация-таблиц" class="section level3">
<h3>Русификация таблиц</h3>
<p>Одна из ключевых возможностей отличающих <code>reacable</code> это, несомненно, возможность <a href="https://glin.github.io/reactable/reference/reactableLang.html">настройки языковых опций</a> таблицы. Например, в библиотеке <code>DT</code> русификация делается <a href="https://rstudio.github.io/DT/004-i18n.html">несколько сложнее</a>, что также описано на странице <a href="https://stackoverflow.com/questions/54181350/datatables-internationalization-with-local-language-file-in-shiny">Stack Overflow</a>.</p>
<pre class="r"><code># русификация reactable таблиц
options(reactable.language = reactableLang(
  pageSizeOptions   = &quot;показано {rows} значений&quot;,
  pageInfo          = &quot;Диапазон: с {rowStart} по {rowEnd} из {rows} регионов&quot;,
  pagePrevious      = &quot;назад&quot;,
  pageNext          = &quot;вперед&quot;,
  searchPlaceholder = &quot;Поиск...&quot;,
  noData            = &quot;Значения не найдены&quot;
))</code></pre>
</div>
<div id="глобальные-настройки-таблицы" class="section level3">
<h3>Глобальные настройки таблицы</h3>
<p>Таблицы в <code>reactable</code> имеют огромное количество разнообразных настроек, причем для более глубокой настройки используется <strong>JavaScript</strong>. Приведем ниже некоторые возможности на примере.</p>
<pre class="r"><code>year_cols &lt;- c(&quot;2017&quot;, &quot;2018&quot;, &quot;2019&quot;, &quot;2020&quot;)

reactable(fires_reactable,
          # группировка и название объединенных столбцов
          columnGroups = list(
            colGroup(name = &quot;Количество пожаров приведенное на 10 000 человек населения&quot;, 
                     columns = year_cols)
          ),
          # строка поиска
          searchable = TRUE,
          # исходная глобальная сортировка по умолчанию
          defaultSortOrder = &quot;desc&quot;,
          # возможность изменять количество строк на странице
          showPageSizeOptions = TRUE,
          # подсветка при наведении на строку
          highlight = TRUE,
          # отстутствие границы между строками
          borderless = TRUE,
          # на всю ширину / фиксированная ширина
          fullWidth = TRUE,
          # столбцы исходной сортировки и направление сортировки столбцов
          defaultSorted = list(FO = &quot;asc&quot;),
          # исходное количество строк на странице
          defaultPageSize = 10,
          # стилизация заголовков столбцов
          theme = reactableTheme(
            headerStyle = list(
              &quot;&amp;:hover[aria-sort]&quot; = list(background = &quot;hsl(0, 0%, 96%)&quot;),
              &quot;&amp;[aria-sort=&#39;ascending&#39;], 
               &amp;[aria-sort=&#39;descending&#39;]&quot; = list(background = &quot;hsl(0, 0%, 96%)&quot;),
              borderColor = &quot;#555&quot;
            )
          ),
          # стилизация: разграничивание между группами при сортировке по ФО
          rowStyle = JS(&quot;
                function(rowInfo, state) {
                        // игнорирование строк заполнения
                        if (!rowInfo) return
                        
                        // горизонтальные разделители между группами
                        var firstSorted = state.sorted[0]
                        if (firstSorted &amp;&amp; firstSorted.id === &#39;FO&#39;) {
                        var nextRow = state.pageRows[rowInfo.viewIndex + 1]
                        if (nextRow &amp;&amp; rowInfo.row[&#39;FO&#39;] !== nextRow[&#39;FO&#39;]) {
                        // добавление прямоугольной тени, 
                        // чтобы добавить границу 2 пикселя 
                        return { boxShadow: &#39;inset 0 -2px 0 rgba(0, 0, 0, 0.1)&#39; }
                        }
                        }
                        }
                        &quot;),
          # глобальный стиль: шрифт для подстрочной суммы
          defaultColDef = colDef(
            footerStyle = list(fontWeight = &quot;bold&quot;), 
          # разделитель для тысяч пробелом
            format      = colFormat(locales = &quot;ru-RU&quot;, separators = TRUE))
         )</code></pre>
<p><font size="3"></p>
<div id="htmlwidget-3" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35],"2018":[54,77,12,52,12,44,35,45,25,34,8,27,28,109,62,35,31,18,43,47],"2019":[62,68,12,48,18,47,32,37,19,32,8,20,28,137,95,40,30,18,46,35],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28],"total":[224,261,46,205,59,182,118,179,86,141,29,86,114,431,289,133,122,78,156,144]},"columns":[{"accessor":"regions","name":"regions","type":"factor","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"minWidth":170},{"accessor":"FO","name":"FO","type":"factor","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"minWidth":60},{"accessor":"2017","name":"2017","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"2018","name":"2018","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"2019","name":"2019","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"2020","name":"2020","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"total","name":"total","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}}],"columnGroups":[{"name":"Количество пожаров приведенное на 10 000 человек населения","columns":["2017","2018","2019","2020"]}],"searchable":true,"defaultSortDesc":true,"defaultSorted":[{"id":"FO","desc":false}],"defaultPageSize":10,"showPageSizeOptions":true,"pageSizeOptions":[10,25,50,100],"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"borderless":true,"rowStyle":"\n                function(rowInfo, state) {\n                        // игнорирование строк заполнения\n                        if (!rowInfo) return\n                        \n                        // горизонтальные разделители между группами\n                        var firstSorted = state.sorted[0]\n                        if (firstSorted && firstSorted.id === 'FO') {\n                        var nextRow = state.pageRows[rowInfo.viewIndex + 1]\n                        if (nextRow && rowInfo.row['FO'] !== nextRow['FO']) {\n                        // добавление прямоугольной тени, \n                        // чтобы добавить границу 2 пикселя \n                        return { boxShadow: 'inset 0 -2px 0 rgba(0, 0, 0, 0.1)' }\n                        }\n                        }\n                        }\n                        ","theme":{"headerStyle":{"&:hover[aria-sort]":{"background":"hsl(0, 0%, 96%)"},"&[aria-sort='ascending'], &[aria-sort='descending']":{"background":"hsl(0, 0%, 96%)"},"borderColor":"#555"}},"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"показано {rows} значений"},"dataKey":"f866e21dfe2d3edc586ce30b7d309024","key":"f866e21dfe2d3edc586ce30b7d309024"},"children":[]},"class":"reactR_markup"},"evals":["tag.attribs.rowStyle"],"jsHooks":[]}</script>
<p></font></p>
</div>
<div id="настройка-столбцов-в-таблицах" class="section level3">
<h3>Настройка столбцов в таблицах</h3>
<p>Для настройки столбцов в <code>reactable</code>-таблицах (например, изменения имени) используется функция <code>colDef()</code> подробно описанная на соответствующей <a href="https://glin.github.io/reactable/reference/colDef.html">странице</a>. Приведем простой пример настройки столбцов на базе известного датасета <a href="https://ru.wikipedia.org/wiki/Ирисы_Фишера">Iris</a>.</p>
<p><font size="3"></p>
<pre class="r"><code>set.seed(2021)

reactable(
  sample_n(iris, 10),
  columns = list(
    Sepal.Length = colDef(name = &quot;Длина чашелистика&quot;),
    Sepal.Width  = colDef(name = &quot;Ширина чашелистика&quot;),
    Petal.Length = colDef(show = FALSE),
    Petal.Width  = colDef(name = &quot;Ширина лепестка&quot;),
    Species      = colDef(name = &quot;Вид&quot;, 
                          align    = &quot;right&quot;,
                          filterable = TRUE)
  )
)</code></pre>
<div id="htmlwidget-4" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Sepal.Length":[6.1,6.9,5.6,5.8,7.2,6.2,7.1,6.5,4.6,6.6],"Sepal.Width":[2.6,3.1,2.5,2.7,3.6,2.2,3,3,3.6,3],"Petal.Length":[5.6,5.4,3.9,5.1,6.1,4.5,5.9,5.8,1,4.4],"Petal.Width":[1.4,2.1,1.1,1.9,2.5,1.5,2.1,2.2,0.2,1.4],"Species":["virginica","virginica","versicolor","virginica","virginica","versicolor","virginica","virginica","setosa","versicolor"]},"columns":[{"accessor":"Sepal.Length","name":"Длина чашелистика","type":"numeric"},{"accessor":"Sepal.Width","name":"Ширина чашелистика","type":"numeric"},{"accessor":"Petal.Length","name":"Petal.Length","type":"numeric","show":false},{"accessor":"Petal.Width","name":"Ширина лепестка","type":"numeric"},{"accessor":"Species","name":"Вид","type":"factor","filterable":true,"align":"right"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"показано {rows} значений"},"dataKey":"f3c338f38d83bbb419d9482c6c2af71d","key":"f3c338f38d83bbb419d9482c6c2af71d"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p></font></p>
<p>Возможности <code>colDef()</code> очень богатые: можно менять выравнивание конкретного столбца, его ширину указав значение <code>maxWidth</code>, изменить форматирование столбца добавив <strong>CSS</strong>-стиль и т.д.</p>
</div>
<div id="тепловые-карты" class="section level3">
<h3>Тепловые карты</h3>
<p>Известно, что цвет воспринимается гораздо быстрее чем численные значения, поэтому имеет смысл иногда представлять данные в виде так называемых “тепловых карт”.
Для создания тепловой карты необходима некоторая подготовка.</p>
<pre class="r"><code># функция цвета
make_color_pal &lt;- function(colors, bias = 1) {
  get_color &lt;- colorRamp(colors, bias = bias)
  function(x) rgb(get_color(x), maxColorValue = 255)
}

# наша палитра
good_color &lt;- make_color_pal(c(&quot;#7fb7d7&quot;, &quot;#ffffbf&quot;, &quot;#fc8d59&quot;), bias = 2)

# максимум и минимум значений в таблице
max_val &lt;-
fires_reactable %&gt;%
  summarise(across(where(is.numeric), ~ max(.x, na.rm = TRUE)))
max_val &lt;- max(max_val %&gt;% dplyr::select(-total))

min_val &lt;-
  fires_reactable %&gt;%
  summarise(across(where(is.numeric), ~ min(.x, na.rm = TRUE)))
min_val &lt;- min(min_val %&gt;% dplyr::select(-total))

# стиль столбца с учетом цвета
my_style_fires &lt;- function(value) {
              if (!is.numeric(value)) return()
              normalized &lt;- (value - min_val) / (max_val - min_val)
              color &lt;- good_color(normalized)
              list(background = color)
            }</code></pre>
<p>Приведем пример тепловой таблицы созданной с помощью собственного стиля.</p>
<p><font size="3"></p>
<pre class="r"><code>reactable(
  fires_reactable,
  columns = list(
    regions = colDef(name = &quot;Субъект РФ&quot;,       # заголовок для субъекта РФ
                              minWidth = 200,
                              defaultSortOrder = &quot;asc&quot;),
    FO      = colDef(name = &quot;ФО&quot;,               # заголовок для ФО
                              align = &quot;center&quot;, # выравнивание по центру
                              minWidth = 70,
                              defaultSortOrder = &quot;asc&quot;),
    total   = colDef(name = &quot;Сумма&quot;,
                     defaultSortOrder = &quot;desc&quot;),
    `2017`  = colDef(style = my_style_fires),
    `2018`  = colDef(style = my_style_fires),
    `2019`  = colDef(style = my_style_fires),
    `2020`  = colDef(style = my_style_fires)
  )
)</code></pre>
<div id="htmlwidget-5" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35],"2018":[54,77,12,52,12,44,35,45,25,34,8,27,28,109,62,35,31,18,43,47],"2019":[62,68,12,48,18,47,32,37,19,32,8,20,28,137,95,40,30,18,46,35],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28],"total":[224,261,46,205,59,182,118,179,86,141,29,86,114,431,289,133,122,78,156,144]},"columns":[{"accessor":"regions","name":"Субъект РФ","type":"factor","defaultSortDesc":false,"minWidth":200},{"accessor":"FO","name":"ФО","type":"factor","defaultSortDesc":false,"minWidth":70,"align":"center"},{"accessor":"2017","name":"2017","type":"numeric","style":[{"background":"#FEEFB1"},{"background":"#FEE1A4"},{"background":"#92C1D3"},{"background":"#FEEFB1"},{"background":"#92C1D3"},{"background":"#FEF0B2"},{"background":"#C9E0C9"},{"background":"#FEF1B3"},{"background":"#C9E0C9"},{"background":"#DCEBC5"},{"background":"#86BBD5"},{"background":"#BDDACB"},{"background":"#ECF4C2"},{"background":"#FDBD84"},{"background":"#FEDDA0"},{"background":"#D4E7C6"},{"background":"#ECF4C2"},{"background":"#B9D7CC"},{"background":"#E8F2C3"},{"background":"#F0F6C1"}]},{"accessor":"2018","name":"2018","type":"numeric","style":[{"background":"#FEEDAF"},{"background":"#FDD297"},{"background":"#96C4D2"},{"background":"#FEEFB1"},{"background":"#96C4D2"},{"background":"#FEF8B9"},{"background":"#F0F6C1"},{"background":"#FEF7B8"},{"background":"#C9E0C9"},{"background":"#ECF4C2"},{"background":"#86BBD5"},{"background":"#D1E5C7"},{"background":"#D4E7C6"},{"background":"#FCAD76"},{"background":"#FEE4A6"},{"background":"#F0F6C1"},{"background":"#E0EDC4"},{"background":"#ADD1CE"},{"background":"#FEFABA"},{"background":"#FEF5B6"}]},{"accessor":"2019","name":"2019","type":"numeric","style":[{"background":"#FEE4A6"},{"background":"#FEDDA0"},{"background":"#96C4D2"},{"background":"#FEF4B5"},{"background":"#ADD1CE"},{"background":"#FEF5B6"},{"background":"#E4F0C3"},{"background":"#F8FBC0"},{"background":"#B1D3CD"},{"background":"#E4F0C3"},{"background":"#86BBD5"},{"background":"#B5D5CC"},{"background":"#D4E7C6"},{"background":"#FC8D59"},{"background":"#FDBD84"},{"background":"#FEFDBD"},{"background":"#DCEBC5"},{"background":"#ADD1CE"},{"background":"#FEF6B7"},{"background":"#F0F6C1"}]},{"accessor":"2020","name":"2020","type":"numeric","style":[{"background":"#FEEAAD"},{"background":"#FEF0B2"},{"background":"#92C1D3"},{"background":"#FEEDAF"},{"background":"#A9CFCE"},{"background":"#FEFEBE"},{"background":"#C9E0C9"},{"background":"#FEF5B6"},{"background":"#A6CCCF"},{"background":"#FEF7B8"},{"background":"#7FB7D7"},{"background":"#A9CFCE"},{"background":"#C5DEC9"},{"background":"#FDC288"},{"background":"#FEE0A3"},{"background":"#DCEBC5"},{"background":"#D1E5C7"},{"background":"#B9D7CC"},{"background":"#F0F6C1"},{"background":"#D4E7C6"}]},{"accessor":"total","name":"Сумма","type":"numeric","defaultSortDesc":true}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"показано {rows} значений"},"dataKey":"3c0b8fc7a20104d5dd3a99d01905e001","key":"3c0b8fc7a20104d5dd3a99d01905e001"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p></font></p>
</div>
<div id="группировка-ячеек" class="section level3">
<h3>Группировка ячеек</h3>
<p>Для компактного представления больших таблиц имеет смысл делать группировку показателей по выбранной переменной с раскрывающимся списком. В примере ниже группировка сделана по федеральным округам. Кроме того, в такого рода таблице можно показать агрегированные значения, такие как максимум по столбцу, минимум, среднее значение, медиану, количество элементов, уникальные значения и т.д.</p>
<p><font size="3"></p>
<pre class="r"><code>reactable(fires_reactable, 
          groupBy = &quot;FO&quot;,
          columns = list(
          `2017`  = colDef(aggregate = &quot;count&quot;,
                           name = &quot;2017 (кол-во)&quot;),
          `2018`  = colDef(aggregate = &quot;unique&quot;,
                           name = &quot;2018 (уник)&quot;),
          `2019`  = colDef(aggregate = &quot;median&quot;,
                           name = &quot;2019 (медиан)&quot;),
          `2020`  = colDef(show = FALSE),
          total   = colDef(name = &quot;Сумма (макс)&quot;, 
                           aggregate = &quot;max&quot;),
          FO      = colDef(name = &quot;Фед. округ&quot;),
          regions = colDef(name = &quot;Субъект РФ&quot;)
          )
)</code></pre>
<div id="htmlwidget-6" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35],"2018":[54,77,12,52,12,44,35,45,25,34,8,27,28,109,62,35,31,18,43,47],"2019":[62,68,12,48,18,47,32,37,19,32,8,20,28,137,95,40,30,18,46,35],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28],"total":[224,261,46,205,59,182,118,179,86,141,29,86,114,431,289,133,122,78,156,144]},"columns":[{"accessor":"regions","name":"Субъект РФ","type":"factor"},{"accessor":"FO","name":"Фед. округ","type":"factor"},{"accessor":"2017","name":"2017 (кол-во)","type":"numeric","aggregate":"count"},{"accessor":"2018","name":"2018 (уник)","type":"numeric","aggregate":"unique"},{"accessor":"2019","name":"2019 (медиан)","type":"numeric","aggregate":"median"},{"accessor":"2020","name":"2020","type":"numeric","show":false},{"accessor":"total","name":"Сумма (макс)","type":"numeric","aggregate":"max"}],"pivotBy":["FO"],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"показано {rows} значений"},"dataKey":"89f27d23fc7d952040142dac081e64ca","key":"89f27d23fc7d952040142dac081e64ca"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p></font></p>
</div>
<div id="динамический-пересчет-суммы" class="section level3">
<h3>Динамический пересчет суммы</h3>
<p>Библиотека <code>reactable</code> путем удачного сочетания с <strong>JavaScript</strong> позволяет делать таблицы с динамической визуализацией в виде итоговой сноски, например, при наборе фильтрующего значения может происходить автоматический пересчет суммы. Скажем, если в поле поиска таблицы ниже ввести <strong>ЦФО</strong>, то останутся субъекты РФ и сумма значений только по Центральному федеральному округу.</p>
<p><font size="3"></p>
<pre class="r"><code>reactable(
  fires_reactable,
  searchable      = TRUE,
  highlight       = TRUE,
  borderless      = TRUE,
  defaultPageSize = 5,
  theme = reactableTheme(searchInputStyle = list(width = &quot;100%&quot;)),
  columns = list(
    regions = colDef(name     = &quot;Субъект РФ&quot;,
                     minWidth = 170,
                     footer   = &quot;Всего:&quot;),
    FO      = colDef(name     = &quot;ФО&quot;,      
                     align    = &quot;center&quot;, 
                     minWidth = 80),
    total = colDef(name = &quot;Сумма&quot;,
      # разделитель для тысяч пробелом
      format = colFormat(locales = &quot;ru-RU&quot;, separators = TRUE),
      # динамический пересчет суммы при поиске
      footer = JS(&quot;function(colInfo) {var total = 0
                                          colInfo.data.forEach(function(row) {
                                          total += row[colInfo.column.id]
                                          })
                                          return total.toLocaleString(&#39;ru-RU&#39;)
                                          }&quot;)
    )
  ),
  # глобальный стиль: шрифт для подстрочной суммы
  defaultColDef = colDef(
    footerStyle = list(fontWeight = &quot;bold&quot;),
    # разделитель для тысяч пробелом
    format      = colFormat(locales = &quot;ru-RU&quot;, separators = TRUE)
  )
)</code></pre>
<div id="htmlwidget-7" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35],"2018":[54,77,12,52,12,44,35,45,25,34,8,27,28,109,62,35,31,18,43,47],"2019":[62,68,12,48,18,47,32,37,19,32,8,20,28,137,95,40,30,18,46,35],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28],"total":[224,261,46,205,59,182,118,179,86,141,29,86,114,431,289,133,122,78,156,144]},"columns":[{"accessor":"regions","name":"Субъект РФ","type":"factor","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"footer":"Всего:","minWidth":170},{"accessor":"FO","name":"ФО","type":"factor","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"minWidth":80,"align":"center"},{"accessor":"2017","name":"2017","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"2018","name":"2018","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"2019","name":"2019","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"2020","name":"2020","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"}},{"accessor":"total","name":"Сумма","type":"numeric","format":{"cell":{"separators":true,"locales":"ru-RU"},"aggregated":{"separators":true,"locales":"ru-RU"}},"footerStyle":{"fontWeight":"bold"},"footer":"function(colInfo) {var total = 0\n                                          colInfo.data.forEach(function(row) {\n                                          total += row[colInfo.column.id]\n                                          })\n                                          return total.toLocaleString('ru-RU')\n                                          }"}],"searchable":true,"defaultPageSize":5,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"borderless":true,"theme":{"searchInputStyle":{"width":"100%"}},"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"показано {rows} значений"},"dataKey":"e0cc62b681aa787b9bc55efd39e53e85","key":"e0cc62b681aa787b9bc55efd39e53e85"},"children":[]},"class":"reactR_markup"},"evals":["tag.attribs.columns.6.footer"],"jsHooks":[]}</script>
<p></font></p>
</div>
<div id="условное-форматирование" class="section level3">
<h3>Условное форматирование</h3>
<p>Зачастую в таблице необходимо отобразить динамику изменения показателя. Для этого удобно применять условное форматирование, например, выделив цветом разности между конечным и исходным значениями и т.д.</p>
<p><font size="3"></p>
<pre class="r"><code>fires_change &lt;- 
fires_reactable %&gt;% 
  mutate(change = `2020` - `2017`) %&gt;% 
  select(-c(`2018`:`2019`), 
         -total)

reactable(fires_change, 
          highlight     = TRUE,
          defaultSorted = list(regions = &quot;asc&quot;),
          columns       = list(
  regions = colDef(name       = &quot;Субъект РФ&quot;,
                     minWidth = 170),
    FO    = colDef(name       = &quot;Фед. округ&quot;,      
                     align    = &quot;center&quot;, 
                     minWidth = 80),
  change = colDef(
    name = &quot;Динамика&quot;,
    defaultSortOrder = &quot;desc&quot;,
    cell = function(value) {
      if (value &gt; 0) paste0(&quot;+&quot;, value) else value
    },
    style = function(value) {
      color &lt;- if (value &gt; 0) {
        &quot;#e00000&quot;
      } else if (value &lt; 0) {
        &quot;#008000&quot;
      }
      list(fontWeight = 600, color = color)
    }
  )
))</code></pre>
<div id="htmlwidget-8" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"regions":["Алтайский край","Амурская область","Архангельская область","Астраханская область","Белгородская область","Брянская область","Владимирская область","Волгоградская область","Вологодская область","Воронежская область","г. Москва","г. Санкт-Петербург","г. Севастополь","Еврейская автономная область","Забайкальский край","Ивановская область","Иркутская область","Кабардино-Балкарская Республика","Калининградская область","Калужская область"],"FO":["СФО","ДФО","СЗФО","ЮФО","ЦФО","ЦФО","ЦФО","ЮФО","СЗФО","ЦФО","ЦФО","СЗФО","ЮФО","ДФО","ДФО","ЦФО","СФО","СКФО","СЗФО","ЦФО"],"2017":[52,64,11,52,11,51,25,50,25,30,8,22,34,95,68,28,34,21,33,35],"2020":[56,51,11,54,17,39,25,47,16,45,6,17,24,91,65,30,27,21,35,28],"change":[4,-13,0,2,6,-12,0,-3,-9,15,-2,-5,-10,-4,-3,2,-7,0,2,-7]},"columns":[{"accessor":"regions","name":"Субъект РФ","type":"factor","minWidth":170},{"accessor":"FO","name":"Фед. округ","type":"factor","minWidth":80,"align":"center"},{"accessor":"2017","name":"2017","type":"numeric"},{"accessor":"2020","name":"2020","type":"numeric"},{"accessor":"change","name":"Динамика","type":"numeric","defaultSortDesc":true,"cell":["+4","-13","0","+2","+6","-12","0","-3","-9","+15","-2","-5","-10","-4","-3","+2","-7","0","+2","-7"],"style":[{"fontWeight":600,"color":"#e00000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":null},{"fontWeight":600,"color":"#e00000"},{"fontWeight":600,"color":"#e00000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":null},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#e00000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":"#e00000"},{"fontWeight":600,"color":"#008000"},{"fontWeight":600,"color":null},{"fontWeight":600,"color":"#e00000"},{"fontWeight":600,"color":"#008000"}]}],"defaultSorted":[{"id":"regions","desc":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"language":{"searchPlaceholder":"Поиск...","noData":"Значения не найдены","pageNext":"вперед","pagePrevious":"назад","pageInfo":"Диапазон: с {rowStart} по {rowEnd} из {rows} регионов","pageSizeOptions":"показано {rows} значений"},"dataKey":"2f8d18ccbc944b56833de0cf42cd2d25","key":"2f8d18ccbc944b56833de0cf42cd2d25"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p></font></p>
</div>
</div>
<div id="заключение" class="section level2">
<h2>Заключение</h2>
<p>В статье был сделан обзор некоторых инструментов по созданию таблиц в библиотеке <code>reactable</code>:</p>
<ul>
<li>формирование основы таблицы;</li>
<li>возможности глобальных настроек и настроек столбцов;</li>
<li>дополнительные возможности для создания тепловых карт;</li>
<li>группировка и аггрегирование ячеек;</li>
<li>некоторые <strong>JavaScript</strong> опции.</li>
</ul>
<p>Всесторонне описать все возможности создания интерактивных таблиц на <code>reactable</code> в рамках одной статьи очень сложно. Например, мы не затронули <strong>CSS</strong>-стили, изображения, <strong>HTML</strong>-виджеты, внедрение <code>reactable</code> в <strong>Shiny</strong> и <strong>Leaflet</strong> и многое другое. Как было сказано, <a href="https://glin.github.io/reactable/index.html">страница библиотеки</a> содержит большое количество материала с примерами и замечательными демонстрациями включая полный код и описание.</p>
<p>Подводя итог, отметим что базовые принципы построения эффективных таблиц, которые можно взять за основу для презентации своих данных, описаны во многих источниках, например, в статье <a href="https://www.cambridge.org/core/journals/journal-of-benefit-cost-analysis/article/abs/ten-guidelines-for-better-tables/74C6FD9FEB12038A52A95B9FBCA05A12">Ten Guidelines for Better Tables</a>. Основные тезисы этой статьи можно посмотреть в твите (на английском языке) ниже.</p>
<blockquote class="twitter-tweet" data-width="550" data-lang="en" data-dnt="true" data-theme="light"><p lang="en" dir="ltr">Before we get to the ten guidelines, recognize that just like in graphs and charts, there are a lot of pieces to tables. And, just like graphs and charts, we can control the look and design of all of these elements. <a href="https://t.co/eFhiUAF07I">pic.twitter.com/eFhiUAF07I</a></p>&mdash; Jon Schwabish (@jschwabish) <a href="https://twitter.com/jschwabish/status/1290323804212822018?ref_src=twsrc%5Etfw">August 3, 2020</a></blockquote>

</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Здесь рассмотрены пожары, учет которых ведется на основании <a href="http://www.consultant.ru/document/cons_doc_LAW_317860/">Приказа МЧС России</a> от 24.12.2018 №625 “О формировании электронных баз данных учета пожаров и их последствий”.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Нормирование по отношению к численности населения производилось на основе статистических данных <a href="http://www.statdata.ru/largest_regions_russia">statdata.ru</a> на 1 января 2021 года. Оценку численности постоянного населения РФ можно также посмотреть на странице <a href="https://data-in.ru/data-catalog/datasets/122/">Демографическая ситуация по субъектам РФ</a>.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Это связано, например, с тем, что базы в ГУ МЧС России данных могут несколько различаться по объему с базами данных ВНИИПО МЧС России.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
